<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bitcamp.java77.dao.JoinDao">

  <resultMap type="join" id="joinMap">
    <id 	column="bno" 		property="no"/>
    <result column="CONT" 	property="content"/>
    <result column="afile" 		property="attachFile"/>
  </resultMap>

	<select id="selectList" resultMap="joinMap" parameterType="map">
    select 
      bno,
      title,
      cont,
      price,
      url,
      afile 
    from board
    order by 
    <choose>
      <when test="keyword == 'title'">title </when>
      <when test="keyword == 'views'">views </when>
      <otherwise>bno desc</otherwise>
    </choose>
  </select>
   
  <insert id="insert" parameterType="join">
    insert into board(title,cont,price,url,afile) 
    values(#{title},#{content},#{price},#{url},#{attachFile})
  </insert>

  <insert id="memberJoin" parameterType="join">
    insert into user(NAME,PWD,EMAIL) 
    values(#{name},#{pwd},#{email})
  </insert>
  
</mapper>






