<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">


<title>PeeKiS</title>

<!-- favicon -->
<link rel="shortcut icon" href="/peekis/favicon.ico" type="image/x-icon">
<link rel="icon" href="/peekis/favicon.ico" type="image/x-icon">

<!-- 부트스트랩 -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

<!-- 제이쿼리 -->
<script src="http://code.jquery.com/jquery-1.10.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

<!-- 페이지 슬라이드  -->
<link rel="stylesheet" type="text/css" href="../joinCss/fullPage/jquery.fullPage.css" />
<script type="text/javascript" src="../joinCss/fullPage/jquery.fullpage.js"></script>

<!-- 인덱스  -->
<!-- <script src="../../js/jquery.rollingCounter.js"></script> -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="../js/typed.js"></script>
<script src="../js/snap.svg-min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

	<!-- 인덱스 css -->
	<link rel="stylesheet" href="../css/index.css">
	<link rel="stylesheet" href="../css/animate.css">

<!-- 벨리데이션 체크 -->
<link rel="stylesheet" href="../dist/css/formValidation.css"/>
<script type="text/javascript" src="../dist/js/formValidation.js"></script>
<script type="text/javascript" src="../dist/js/framework/bootstrap.js"></script>

<!-- Custom Fonts -->
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
	rel='stylesheet' type='text/css'>

<script type="text/javascript" src="../js/common.js"></script>

<!-- btn-orange -->
<link rel="stylesheet" href="../css/btn-orange.css">

<!-- header -->
<link rel="stylesheet" style="text/css" href="../css/loginHeader.css" />

<!-- footer -->
<link rel="stylesheet" style="text/css" href="../css/footer.css" />

<!-- 헤더푸터 위치 페이지 사이즈  조절 -->
<link rel="stylesheet" style="text/css" href="../css/global.css"/>

<style type="text/css">

.dropdown-menu{
	z-index: 2;
}
#defaultForm i.form-control-feedback {
    z-index: 0;
}

.upfo{
color: gray;
}

footer {
	position: fixed;
	height: 50px;
	bottom: 0;
}

/* 모달 토글 */
.container-fluid {
	text-align: center;
	align: center;
	border: none;
}


/* 이미지 클릭(팔로우) */
.check{
	display : inline-block; !important;
	
}
 .uncheckedborder {
/* 	border: 5px solid rgb(242,132,53) !important; */
    -webkit-filter: grayscale(0.1%) !important;
	border :  outset #DEDEDE !important; 
	border-width: 2px 1px 6px 1px !important;
	border-top-color: #F0F0F0 !important;
}  
/*  .uncheckedborder {
   -webkit-filter: checkImg 0.5s forwards !important;
}

@-webkit-keyframes checkImg {
 from{
     filter:alpha(opacity=100);
 }
 to{
   filter:alpha(opacity=100);
  }
  */
} 

/* 모달 설정 */
.modal-body {
    position:relative; /* This avoids image to go off the container */
    overflow: visible;
}
.modal-content{
 position:relative;
 max-width: 820px;
}

.modal-header{
 background-color: #e9e9e9;
}

/* 이미지 */
.img-check {
    width:170px;
    height: 140px;
     border: none;
     border-radius: 5%; 
     margin: 3px;
     -webkit-box-shadow:  2px 3px 4px #C3D1D6;
     padding: 0px;
/*      #D9DEDC */
         -webkit-filter: grayscale(100%); /* Chrome, Safari, Opera */
}

.img-check:hover{
/* opacity:0.85; */
   -webkit-filter: grayscale(1%);
}

.col-md-3{
 display: inline-block;
}

/* 캡션 */
 
.modal-header>.asd>span {
/*    display : inline-block;  */
  border-radius : 8px;
  background: #A1CC9F;
  text-align : center;
  color : white;
  font-weight : bold;
  margin-right : 5px;
  border-style: dashed;
  border-width: 0.2px;
  font-size: x-large;
}

/* 캡션 내용 */
.modal-body>.row>div>div {
	position : absolute;
	padding : 5px;
	margin:12px;
 	/* background-color : rgba(0,0,0,0.4); */ 
	text-align : center;
 	border-radius : 3px; 
	font-weight : bold;
	text-shadow: 1px 1px 1px black;
	z-index:1;
	color : white;
}

/*-----------------------------가입페이지 슬라이드css------------------------------*/
	/* Style for our header texts
	* --------------------------------------- */
	h1{
		font-size: 5em;
		font-family: arial,helvetica;
		color: #fff;
		margin:0;
	}
	.intro p{
		color: #fff;
	}

	/* Centered texts in each section
	* --------------------------------------- */
	.section{
		text-align:center;
	}

	/* Overwriting styles for control arrows for slides
	* --------------------------------------- */
	.controlArrow.prev {
		left: 50px;
	}
	.controlArrow.next{
		right: 50px;
	}


	/* Bottom menu
	* --------------------------------------- */
	#infoMenu li a {
		color: #fff;
	}
	
	.form-box {
		background-color : white;
		border-radius : 9px;
		padding-top: 40px;
		padding-bottom: 40px;
		/*box-shadow : 3px 3px 3px white;
		 stroke-width: 7px;
		stroke: blue; 
		fill: none;
		stroke: #fff;
		stroke-width: 4px;
		stroke-linecap: round;
		*/
	}
	.fp-tableCell{
		padding-bottom: 120px;
	}
	.button-wrap{
		margin-top: 50px;
	}
	.main{
		padding-top: 80px;
	}
	.container{
		padding-top: 100px;
	}

</style>
<script>
	
	
	$(document).ready(function() {
	
	     var nameVal = $('#name').val();
		 var emailVal = $('#email').val();
		 var pwdVal = $('#password').val();
	  
		/* 모달창에서 데이터 전송  */
		$("#followbtn").on("click",function(){
			//alert("name : " + data_value + " email : " + data_value2 +  " password : " + data_value3 +"\n" + "follow list : " + selList)	
			$.ajax({
        		type: "POST",
        		dataType:"JSON",
    			url: contextRoot + "/auth/ajax/join.do",
     			data:{'name':data_value,
                      'email': data_value2,
                      'pwd': data_value3,
                     'selList': selList }
	 		 }).done(function(status) {
	 			console.log(status);
	 			// alert("전송 성공");
	 			// 페이지 이동
				location.href = contextRoot + "/view/main/main2.html";
	 		 }).fail(function(status) {
	 			console.log(status);
	 			//alert("전송 실패");			 
	 		  })
		});
		

	/* 벨리데이션 체크 */
	$('#defaultForm').formValidation({
		framework: 'bootstrap',	
        message: 'This value is not valid',
        err: {
            container: 'tooltip'
        },
        icon: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
        	name: {
	        	err: 'popover',
                validators: {
                    notEmpty: { message: 'The first name is required and cannot be empty' }
                }
            },
            email: {
                err: 'popover',
                validators: {
                    emailAddress: {},
                    notEmpty: { message: 'The email is required and cannot be empty' }
                }
            },
            emailConfirm : {
                err: 'popover',
                validators: {
                    emailAddress: {},
                    notEmpty: { message: 'The email is not correct' }
                }
            },
            password: {
                err: 'popover',
                validators: {
                    notEmpty: { message: 'The password is required and cannot be empty'
                    },
                    stringLength: {
                        min: 6,
                        max: 30,
                        message: 'The password must be more than 6 and less than 30 characters long'
                    }
                }
            }
        }
    }).on('success.form.fv', function(){
		 data_value = $('#name').val();
	 	 data_value2 = $('#email').val();
  	  	 data_value3 = $('#password').val();
	  	  //alert("자 이제 콘트롤러에 들어갈거야")
	  	  
	  	  $.ajax({
	  		  type: "POST",
	  		  dataType:"JSON",
	  	 	  url : contextRoot + "/auth/ajax/loginCk.do",
	  	 	  data:{'email': data_value2},
	  	  }).done(function(resultObj) {
				//alert("done");			 
				 if(resultObj.ajaxResult.data>0){
					 //alert("중복되는 값 있음")
					 $(".dupEmailCk").text("회원님은 이미 PEEKIS에 계정이 있습니다.");
				 }else{
					//alert("중복되는 값 없음")
					$(".dupEmailCk").text("");
					$("#myModal").modal("show");
				 }
			 })
			 return false;
	  }); 

	var selList ="" /* 모달창에서 셀렉트된 팔로우이름들 #로 분류 */
  
	/* 모달- 이미지 체크 토글 */
		$(".img-check").click(function() {
			var selItems = $(this).parent().prev().prev().val();
			
			if($(this).hasClass("uncheckedborder")){
				$(this).removeClass("uncheckedborder");
				selList = selList.replace("#"+selItems,"");

			}else{
				$(this).addClass("uncheckedborder")
				selList += "#"+ selItems;
			}
			var numItems = $('.check').length;
		    $(this).toggleClass("check");
		    
		    numItems = $('.check').length; 
		    
			if(numItems >= 5){
				  $("#followbtn").attr("disabled", false);
			
			}else{
				  $("#followbtn").attr("disabled", true);
			
			}
			
			if(numItems != 0){
					 $("#followbtn").html( "<strong>" + numItems  + "개의 주제를 팔로우</strong>");
				  }else{
					 $("#followbtn").html( "<strong>주제를 팔로우 하세요</strong>");
				  }
		});
    
		/*join폼 슬라이드*/
		$('#fullpage').fullpage({
			anchors: ['firstPage', '3rdPage'],
			sectionsColor: ['rgb(242,132,53)', '#dedede'],
			navigation: true,
			navigationPosition: 'right',
			navigationTooltips: ['Hello PeeKiS', 'Sign-Up']
		});
		
		var fWidth = parseInt($(".form-box").css("width"));
		$(".form-box").css("margin-left", ($(window).width()/2)-(fWidth/2));
	
		$(window).resize(function() {
			var fWidth = parseInt($(".form-box").css("width"));
			$(".form-box").css("margin-left", ($(window).width()/2)-(fWidth/2));			
		});
		
		/*인덱스 */
		var subElementArray = $.map($('.sub-element'), function(el) { return $(el).text(); });    
		    $(".element").typed({
		        strings: subElementArray,
		        typeSpeed: 30,
		        contentType: 'html',
		        showCursor: false,
		        loop: true,
		        loopCount: true,
		    });
		    
			
			$.getJSON(
					"/peekis/main/ajax/selectAllCnt.do",
					function(data){
						$('#all').attr("data-count", data.allCnt.totalCnt);
						$('#today').attr("data-count", data.todayCnt.todayCnt);
						$('#goal').attr("data-count", data.goalCnt.goalCnt);
//		 				$('#all').html(data.allCnt.totalCnt);
//		 				$('#today').html(data.todayCnt.todayCnt);
//		 				$('#clear').html(data.goalCnt.goalCnt);
					}
			);
	}); 
	
	

</script>
</head>
<body>

	<!-- 헤더 -->
	<header id="header"></header>

	<!-- body content -->
	<section style="background-color: #e9e9e9;">

		<div id="fullpage">
			<div class="section " id="section0">
				<div class="intro">
					<div class="main">
						<div class="container">
							<div class="row">
								<div class="col-md-12">
									<h1><!-- class="animated infinite tada" -->
										PeeK<small>iS</small>
									</h1>
									<h2 class="element">
										<span class="sub-element">여러분의 가지고 싶은 것을 채워 넣으세요!</span>
										<span class="sub-element">당신의 욕망을 채워주는 이곳!</span>
										<span class="sub-element">피 키 스</span>
									</h2>
				
									<ul class="countdown">
										<li><span class="counter" id="all">1185</span>
											<h3>총 욕망</h3></li>
										<li><span class="counter" id="today">83</span>
											<h3>오늘의 욕망</h3></li>
										<li><span class="counter" id="goal">1268</span>
											<h3>욕망 달성</h3></li>
									</ul>
									<br/>
									<div class="button-wrap animated infinite bounce">
										<button data-anijs="if:click, do: hinge animated, to: #main" class="button button--line button--effect-1" onclick="location.href='../auth/joinForm.html#3rdPage'";>
											<span class="morph-shape" data-morph-active="M287,95.25c0,11.046-5.954,19.75-17,19.75c0,0-90-4-120-4s-120,4-120,4c-11.046,0-17.25-9.5-17.25-20.5c0-8.715,0.25-10.75,0.25-34s-0.681-26.257-1-33.75C11.5,15,18.954,10,30,10c0,0,90,3,120,3s120-3,120-3c11.046,0,17.75,6.5,17,20c-0.402,7.239,0,6.75,0,30.5C287,83.5,287,84.75,287,95.25z">
												<svg width="100%" height="100%" viewBox="0 0 300 125" preserveAspectRatio="none">
													<path d="M290,95c0,11.046-8.954,20-20,20c0,0-90,0-120,0s-120,0-120,0c-11.046,0-20-9-20-20c0-8.715,0-25.875,0-34.5c0-7.625,0-22.774,0-30.5c0-11.625,8.954-20,20-20c0,0,90,0,120,0s120,0,120,0c11.046,0,20,8.954,20,20c0,7.25,0,22.875,0,30.5C290,69.125,290,84.5,290,95z"/>
												</svg>
											</span>
											<span class="button__text">Sign-Up</span>
										</button>
									</div>
									<button id="btn" style="display: none;"></button>
								</div>
							</div>
						</div>
					</div>
					<br /> <br /> <br />
					
				</div>
			</div>

			<div class="section" id="section2">
				<div class="intro">
					<div class="col-sm-4 form-box">
						<div class="form-top">
							<div class="form-top-left" align="left">
								<h2 style="text-shadow: 1px 1px 1px;">SignUp</h2>
							</div>
							<br />
							<br />
							<div class="form-top-right" align="right"></div>
						</div>

						<div class="form-bottom" >
							<form role="form" method="post" id="defaultForm" class="registration-form">
								<div class="form-group">
									<label class="sr-only" for="form-first-name">User name</label>
									<input type="text" name="name" placeholder="User name"
										class="form-first-name form-control" id="name" required>
								</div>
								<div class="form-group">
									<label class="sr-only" for="form-email">Email</label> 
										<input type="text" name="email" placeholder="E-mail" class="form-email form-control" id="email" required>
								</div>
								<div class="form-group">
									<label class="sr-only" for="form-password">password</label> 
										<input type="password" name="password" placeholder="Password" class="form-password form-control" id="password">
								</div>
								<br> 
								<button type="submit" class="btn btn-orange" id="registIn"
									data-toggle="modal">SignUp</button>
								<span class="dupEmailCk"
									style="color: #E84343; padding-left: 10px; text-decoration: underline;"></span>
								<br> <br> <br>
								<p style="color: gray; font-size: x-small;">
									가입과 동시에 귀하는 <a href="#">쿠키 사용</a>을 포함해 <a href="#">이용약관</a>과 <a
										href="#">개인정보 취급방침</a>에 동의하는 것입니다. 다른 사람들이 내가 입력한 이메일 또는 이름으로
									나를 찾을 수 있습니다.
								</p>
							</form>
						</div>
					</div>
				</div>
			</div>

		</div>


		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4 class="modal-title" id="myModalLabel">
							자신이 원하는 주제를 팔로우 하세요. <span
								style="font-size: small; color: tomato;">(5개 이상 선택)</span>
						</h4>
						<span class="asd"></span>
					</div>

					<!-- 모달 바디 -->
					<div class="modal-body">
						<div class="row">

							<!--선택이미지  -->
							<div class="col-md-3">
								<input type="hidden" value="1">
								<div>여성</div>
								<a class="tooltips" href="#"> <img src="img/woman.jpg"
									alt="..." class="img-thumbnail img-check" title="여성"></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="2">
								<div>남성</div>
								<a href="#"><img src="img/man.jpg" alt="..."
									class="img-thumbnail img-check"></a>
								<!-- <span class="imgn" title="남성"></span> -->
							</div>
							<div class="col-md-3">
								<input type="hidden" value="3">
								<div>유·아동</div>
								<a class="tooltips" href="#"><img src="img/kids.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>kids</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="4">
								<div>여행</div>
								<a class="tooltips" href="#"><img src="img/trip.png"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>baby</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="5">
								<div>동물</div>
								<a class="tooltips" href="#"><img src="img/animal.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>animal</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="6">
								<div>악세서리</div>
								<a class="tooltips" href="#"><img
									src="img/Accessory-Designer-Intro.jpg" alt="..."
									class="img-thumbnail img-check">
								<!-- <span>Accessory</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="7">
								<div>IT</div>
								<a class="tooltips" href="#"><img src="img/it.jpg" alt="..."
									class="img-thumbnail img-check">
								<!-- <span>IT</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="8">
								<div>스포츠</div>
								<a class="tooltips" href="#"><img src="img/sports.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>sports</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="9">
								<div>코스메틱</div>
								<a class="tooltips" href="#"><img src="img/cosmetic.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>cosmetic</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="10">
								<div>악기</div>
								<a class="tooltips" href="#"><img src="img/instruments.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>instrument</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="11">
								<div>자동차</div>
								<a class="tooltips" href="#"><img src="img/car.JPG"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>car</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="12">
								<div>음식</div>
								<a class="tooltips" href="#"><img src="img/food.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>watch</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="13">
								<div>가방</div>
								<a class="tooltips" href="#"><img src="img/bag.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>bag</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="14">
								<div>신발</div>
								<a class="tooltips" href="#"><img src="img/shoes.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>shoes</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="15">
								<div>책</div>
								<a class="tooltips" href="#"><img src="img/book.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>book</span> --></a>
							</div>
							<div class="col-md-3">
								<input type="hidden" value="16">
								<div>가구</div>
								<a class="tooltips" href="#"><img src="img/furniture.jpg"
									alt="..." class="img-thumbnail img-check">
								<!-- <span>furniture</span> --></a>
							</div>
						</div>
						<!-- div row -->
					</div>

					<!--  모달 푸터 -->
					<div class="modal-footer">
						<div class="container-fluid">
							<button class="btn btn-lg btn-orange" id="followbtn">
								<strong>주제를 팔로우 하세요</strong>
							</button>
							<span id="selTest"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer id="footer"></footer>

<script>
		$("#header").load("header/loginHeader.html");
		$("#footer").load("footer/footer.html");
</script>	
<!-- 인덱스  -->
<script src="../js/classie.js"></script>
<!-- <script type="text/javascript">
	    
		$(".counter").rollingCounter({
		    animate : true,
		    attrCount : 'data-count',
		    delayTime : 20 ,
		    waitTime : 1 ,
		    easing : 'easeOutBounce',
		    duration : 1000
		});
		
		
		</script> -->
		<script>
			(function() {

				function extend( a, b ) {
					for( var key in b ) { 
						if( b.hasOwnProperty( key ) ) {
							a[key] = b[key];
						}
					}
					return a;
				}
				
				function SVGButton( el, options ) {
					this.el = el;
					this.options = extend( {}, this.options );
					extend( this.options, options );
					this.init();
				}

				SVGButton.prototype.options = {
					speed : { reset : 800, active : 150 },
					easing : { reset : mina.elastic, active : mina.easein }
				};

				SVGButton.prototype.init = function() {
					this.shapeEl = this.el.querySelector( 'span.morph-shape' );

					var s = Snap( this.shapeEl.querySelector( 'svg' ) );
					this.pathEl = s.select( 'path' );
					this.paths = {
						reset : this.pathEl.attr( 'd' ),
						active : this.shapeEl.getAttribute( 'data-morph-active' )
					};

					this.initEvents();
				};

				SVGButton.prototype.initEvents = function() {
					this.el.addEventListener( 'mousedown', this.down.bind(this) );
					this.el.addEventListener( 'touchstart', this.down.bind(this) );

					this.el.addEventListener( 'mouseup', this.up.bind(this) );
					this.el.addEventListener( 'touchend', this.up.bind(this) );

					this.el.addEventListener( 'mouseout', this.up.bind(this) );
				};

				SVGButton.prototype.down = function() {
					this.pathEl.stop().animate( { 'path' : this.paths.active }, this.options.speed.active, this.options.easing.active );
				};

				SVGButton.prototype.up = function() {
					this.pathEl.stop().animate( { 'path' : this.paths.reset }, this.options.speed.reset, this.options.easing.reset );
				};

				[].slice.call( document.querySelectorAll( 'button.button--effect-1' ) ).forEach( function( el ) {
					new SVGButton( el );
				} );

				[].slice.call( document.querySelectorAll( 'button.button--effect-2' ) ).forEach( function( el ) {
					new SVGButton( el, {
						speed : { reset : 650, active : 650 },
						easing : { reset : mina.elastic, active : mina.elastic }
					} );
				} );

			})();			
		</script>	
</body>

</html>
